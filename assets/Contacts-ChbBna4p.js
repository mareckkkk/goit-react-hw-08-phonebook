import{u as g,a as _,j as t,i as v,r as p,R as y,k,m as F,n as S,o as L,d as P}from"./index-D_MCWBl5.js";import{H as D,a as z}from"./index.esm-qgkgKDlE.js";import{O as A}from"./OpenBook-BmFqWX0P.js";import{n as $}from"./notiflix-loading-aio-Cf_7nHI9.js";const N=n=>n.contacts,B="_contactform_7hid4_1",E="_label_7hid4_8",w="_add_button_7hid4_14",b={contactform:B,label:E,add_button:w},O=()=>{const n=g(),{allContact:u}=_(N),o=c=>{c.preventDefault();const a=c.target,s=a.elements.name.value,d=a.elements.number.value;u.find(m=>m.name===s)?alert(s+" is already in contacts"):(n(v({name:s,number:d})),a.reset())};return t.jsxs("div",{className:b.contactform,children:[t.jsx("h2",{children:"Phonebook"}),t.jsxs("form",{onSubmit:o,children:[t.jsxs("label",{className:b.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true"})]}),t.jsxs("label",{className:b.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true"})]}),t.jsx("button",{type:"submit",className:b.add_button,children:"Add Contact"})]})]})},R=O,q="_rightPage_86n7d_1",H="_idFilter_86n7d_4",M="_list_86n7d_7",J="_itemList_86n7d_13",T="_delete_button_86n7d_19",V="_edit_button_86n7d_32",W="_buttonsDiv_86n7d_45",r={rightPage:q,idFilter:H,list:M,itemList:J,delete_button:T,edit_button:V,buttonsDiv:W},Z=n=>n.filter,I="_modal_ukozr_1",G="_modalBox_ukozr_12",K="_form_ukozr_18",Q="_label_ukozr_23",U="_done_ukozr_28",X="_cancel_ukozr_41",i={modal:I,modalBox:G,form:K,label:Q,done:U,cancel:X},Y=({show:n,contactData:u,closeModal:o})=>{const c=g(),a=JSON.parse(u),[s,d]=p.useState(a.name),[m,x]=p.useState(a.number),C=l=>{const e=l.target.value;d(e)},f=l=>{const e=l.target.value;x(e)},j=l=>{l.preventDefault(),c(k({id:a.id,name:s,number:m})),o()};return y.createPortal(n&&t.jsx("div",{className:i.modal,children:t.jsxs("div",{className:i.modalBox,children:[t.jsx("h3",{children:"Edit Contact"}),t.jsxs("form",{className:i.form,onSubmit:j,children:[t.jsxs("label",{className:i.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true",value:s,onChange:C})]}),t.jsxs("label",{className:i.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true",value:m,onChange:f})]}),t.jsx("button",{type:"submit",className:i.done,children:"Done"}),t.jsx("button",{type:"button",className:i.cancel,onClick:o,children:"Cancel"})]})]})}),document.querySelector("#popup-root"))},tt=()=>{const n=g(),{isLoading:u,err:o,allContact:c}=_(N),a=_(Z),[s,d]=p.useState(!1),[m,x]=p.useState(),C=e=>{const h=e.target.value;x(h),d(!0)},f=e=>{d(!1)},j=e=>{const h=e.target.value;n(S(h))},l=e=>{const h=e.target.value;n(L(h))};return p.useEffect(()=>{n(F())},[n]),t.jsxs("div",{className:r.rightPage,children:[s&&t.jsx(Y,{show:s,contactData:m,closeModal:f}),t.jsx("h2",{children:"Contacts"}),t.jsx("label",{htmlFor:"idFilter",children:"Find contacts by name"}),t.jsx("br",{}),t.jsx("input",{className:r.idFilter,id:"idFilter",type:"text",name:"filter",onChange:l,autoComplete:"true"}),t.jsxs("ul",{className:r.list,children:[u?t.jsx("p",{children:"Loading..."}):c&&c.map(e=>e.name.toLowerCase().includes(a.toLowerCase())&&t.jsxs("li",{className:r.itemList,children:[t.jsxs("span",{children:[e.name,":",t.jsx("br",{})," ",e.number]}),t.jsxs("div",{className:r.buttonsDiv,children:[t.jsx("button",{type:"button",onClick:C,value:JSON.stringify(e),className:r.edit_button,children:"Edit"}),t.jsx("button",{type:"button",onClick:j,value:e.id,className:r.delete_button,children:"Delete"})]})]},e.id)),o&&t.jsxs("p",{children:["Error: ",o]})]})]})},et=tt;function ct(){return _(P)===!1&&$.Loading.remove(),t.jsx(D,{children:t.jsxs(A,{children:[t.jsxs(z,{children:["npm i @chakra-ui/react @emotion/react @emotion/styled framer-motion",t.jsx("title",{children:"Contacts"})]}),t.jsx(R,{}),t.jsx(et,{})]})})}export{ct as default};
