import{u as g,a as x,j as t,i as v,r as _,R as y,k,m as z,n as F,o as S,d as L}from"./index-BUpvRmc8.js";import{H as P,a as D}from"./index.esm-vNj686qf.js";import{O as A}from"./OpenBook-Ddq6RQyY.js";import{n as $}from"./notiflix-loading-aio-BNeG6g9U.js";const N=n=>n.contacts,B="_contactform_xkzfd_1",E="_label_xkzfd_8",w="_add_button_xkzfd_15",O="_input_xkzfd_29",p={contactform:B,label:E,add_button:w,input:O},R=()=>{const n=g(),{allContact:u}=x(N),o=c=>{c.preventDefault();const a=c.target,s=a.elements.name.value,d=a.elements.number.value;u.find(m=>m.name===s)?alert(s+" is already in contacts"):(n(v({name:s,number:d})),a.reset())};return t.jsxs("div",{className:p.contactform,children:[t.jsx("h2",{children:"Phonebook"}),t.jsxs("form",{onSubmit:o,children:[t.jsxs("label",{className:p.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true"})]}),t.jsxs("label",{className:p.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true",className:p.input})]}),t.jsx("button",{type:"submit",className:p.add_button,children:"Add Contact"})]})]})},q=R,H="_rightPage_86n7d_1",M="_idFilter_86n7d_4",J="_list_86n7d_7",T="_itemList_86n7d_13",V="_delete_button_86n7d_19",W="_edit_button_86n7d_32",Z="_buttonsDiv_86n7d_45",r={rightPage:H,idFilter:M,list:J,itemList:T,delete_button:V,edit_button:W,buttonsDiv:Z},I=n=>n.filter,G="_modal_ukozr_1",K="_modalBox_ukozr_12",Q="_form_ukozr_18",U="_label_ukozr_23",X="_done_ukozr_28",Y="_cancel_ukozr_41",i={modal:G,modalBox:K,form:Q,label:U,done:X,cancel:Y},tt=({show:n,contactData:u,closeModal:o})=>{const c=g(),a=JSON.parse(u),[s,d]=_.useState(a.name),[m,b]=_.useState(a.number),f=l=>{const e=l.target.value;d(e)},C=l=>{const e=l.target.value;b(e)},j=l=>{l.preventDefault(),c(k({id:a.id,name:s,number:m})),o()};return y.createPortal(n&&t.jsx("div",{className:i.modal,children:t.jsxs("div",{className:i.modalBox,children:[t.jsx("h3",{children:"Edit Contact"}),t.jsxs("form",{className:i.form,onSubmit:j,children:[t.jsxs("label",{className:i.label,children:["Name",t.jsx("input",{type:"text",name:"name",pattern:"^[a-zA-Z '\\-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"true",value:s,onChange:f})]}),t.jsxs("label",{className:i.label,children:["Phone",t.jsx("input",{type:"tel",name:"number",pattern:"^\\+?[0-9\\(\\) \\-]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"true",value:m,onChange:C})]}),t.jsx("button",{type:"submit",className:i.done,children:"Done"}),t.jsx("button",{type:"button",className:i.cancel,onClick:o,children:"Cancel"})]})]})}),document.querySelector("#popup-root"))},et=()=>{const n=g(),{isLoading:u,err:o,allContact:c}=x(N),a=x(I),[s,d]=_.useState(!1),[m,b]=_.useState(),f=e=>{const h=e.target.value;b(h),d(!0)},C=e=>{d(!1)},j=e=>{const h=e.target.value;n(F(h))},l=e=>{const h=e.target.value;n(S(h))};return _.useEffect(()=>{n(z())},[n]),t.jsxs("div",{className:r.rightPage,children:[s&&t.jsx(tt,{show:s,contactData:m,closeModal:C}),t.jsx("h2",{children:"Contacts"}),t.jsx("label",{htmlFor:"idFilter",children:"Find contacts by name"}),t.jsx("br",{}),t.jsx("input",{className:r.idFilter,id:"idFilter",type:"text",name:"filter",onChange:l,autoComplete:"true"}),t.jsxs("ul",{className:r.list,children:[u?t.jsx("p",{children:"Loading..."}):c&&c.map(e=>e.name.toLowerCase().includes(a.toLowerCase())&&t.jsxs("li",{className:r.itemList,children:[t.jsxs("span",{children:[e.name,":",t.jsx("br",{})," ",e.number]}),t.jsxs("div",{className:r.buttonsDiv,children:[t.jsx("button",{type:"button",onClick:f,value:JSON.stringify(e),className:r.edit_button,children:"Edit"}),t.jsx("button",{type:"button",onClick:j,value:e.id,className:r.delete_button,children:"Delete"})]})]},e.id)),o&&t.jsxs("p",{children:["Error: ",o]})]})]})},nt=et;function lt(){return x(L)===!1&&$.Loading.remove(),t.jsx(P,{children:t.jsxs(A,{children:[t.jsxs(D,{children:["npm i @chakra-ui/react @emotion/react @emotion/styled framer-motion",t.jsx("title",{children:"Contacts"})]}),t.jsx(q,{}),t.jsx(nt,{})]})})}export{lt as default};
