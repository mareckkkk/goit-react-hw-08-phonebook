import{u as f,a as t,s as h,b as x,r as _,c as j,j as s,l as v,d as L}from"./index-BUpvRmc8.js";import{H as y,a as w}from"./index.esm-vNj686qf.js";import{u as E}from"./chunk-6RSEZNRH-DjOszFWr.js";import{O as I}from"./OpenBook-Ddq6RQyY.js";import{n as d}from"./notiflix-loading-aio-BNeG6g9U.js";const N="_label_1boly_2",P="_login_button_1boly_9",R="_invalid_1boly_22",k="_input_1boly_28",e={label:N,login_button:P,invalid:R,input:k},H=()=>{const n=E(),l=f(),a=t(h);t(x);const u=r=>{r.preventDefault();const i=r.currentTarget,m=i.elements.email.value,p=i.elements.password.value,g=new Promise((b,c)=>{l(v({email:m,password:p})).then(o=>{o.error?c(o.error):b(o)}).catch(o=>c(o))});n.promise(g,{success:{title:"You have logged in successfully",description:"Welcome back!"},error:{title:"Login error",description:"Failed to log in."},loading:{title:"Login in progress...",description:"Please wait..."}}),i.reset()};return _.useEffect(()=>{l(j())},[]),s.jsxs("form",{onSubmit:u,children:[s.jsxs("label",{className:e.label,children:["Email:",s.jsx("input",{type:"email",name:"email",required:!0,className:e.input})]}),s.jsxs("label",{className:e.label,children:["Password:",s.jsx("input",{type:"password",name:"password",required:!0,className:e.input})]}),a&&s.jsx("p",{className:e.invalid,children:a}),s.jsx("button",{className:e.login_button,type:"submit",children:"Log In"})]})};function F(){return t(L)?d.Loading.dots("Loading...",{backgroundColor:"rgba(0,0,0,0.3)",svgColor:"red"}):d.Loading.remove(200),s.jsx(y,{children:s.jsxs(I,{children:[s.jsx(w,{children:s.jsx("title",{children:"Login"})}),s.jsx(H,{})]})})}export{F as default};
